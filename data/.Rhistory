model7vars<-model7vars[complete.cases(model7vars),]
model7<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model7vars,
cite=F)
model7vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "ldopenk", "lfdiinflow", "lfpi", "spline"))
model7vars<-model7vars[complete.cases(model7vars),]
model7<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model7vars,
cite=F)
summary(model7)
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "lpolity2", "ldpolity2", "ldeconglob", "leconglob", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldeconglob + leconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", ""))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*ldiinflow + lfdiinflow*lfpi + lfpi*ldopenk,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*ldiinflow + lfdiinflow*lfpi + lfpi*ldopenk,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*ldfdiinflow + lfdiinflow*lfpi + lfpi*ldopenk,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*lfdiinflow + lfdiinflow*lfpi + lfpi*ldopenk,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model1)
summary(model2)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*lfdiinflow,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*lfpi,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldopenk*lfdiinflow + lfdiinflow*lfpi + lfpi*ldopenk + lfpi*ldopenk*lfdiinflow,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model6vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfpi", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model6vars<-model6vars[complete.cases(model6vars),]
model6<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model6vars,
cite=F)
summary(model6)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "year"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + year,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "leconglob", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + leconglob,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
options(scipen=999)
model1vars<-subset(modelvars, select=c("fp", "lpolity2",  "ldpolity2", "lrgdpch", "lgrgdpch", "interp", "spline"))
model1vars<-model1vars[complete.cases(model1vars),]
model1<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline,
model="logit",
robust=TRUE,
data=model1vars,
cite=F)
summary(model1)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "leconglob", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "lpolity2", "ldpolity2", "ldeconglob", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldeconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model4vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model4vars<-model4vars[complete.cases(model4vars),]
model4<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + ldeconglob,
model="logit",
robust=TRUE,
data=model4vars,
cite=F)
summary(model4)
model5vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinflow", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model5vars<-model5vars[complete.cases(model5vars),]
model5<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfdiinflow + ldeconglob,
model="logit",
robust=TRUE,
data=model5vars,
cite=F)
summary(model5)
model6vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfpi", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model6vars<-model6vars[complete.cases(model6vars),]
model6<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model6vars,
cite=F)
summary(model6)
model6vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfpi", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model6vars<-model6vars[complete.cases(model6vars),]
model6<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfpi,
model="logit",
robust=TRUE,
data=model6vars,
cite=F)
summary(model6)
model5vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinflow", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model5vars<-model5vars[complete.cases(model5vars),]
model5<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfdiinflow,
model="logit",
robust=TRUE,
data=model5vars,
cite=F)
summary(model5)
model4vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "ldeconglob", "lpolity2", "ldpolity2", "spline"))
model4vars<-model4vars[complete.cases(model4vars),]
model4<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk,
model="logit",
robust=TRUE,
data=model4vars,
cite=F)
summary(model4)
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "lpolity2", "ldpolity2", "ldeconglob", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "lpolity2", "ldpolity2", "ldeconglob", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
summary(model2)
model3vars$libavg<-(model3vars$lfpi+ldopenk+lfdiinflow)/3
model3vars$libavg<-(model3vars$lfpi+model3vars$ldopenk+model3vars$lfdiinflow)/3
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model3vars$libavg<-(model3vars$lfpi+model3vars$ldopenk+model3vars$lfdiinflow)/3
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model3vars$libavg<-(model3vars$lfpi+model3vars$ldopenk+model3vars$lfdiinflow)/3
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + libavg,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model3vars$libavg<-(model3vars$lfpi+model3vars$ldopenk+model3vars$lfdiinflow)
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + libavg,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model3vars$libavg<-log(model3vars$lfpi+model3vars$ldopenk+model3vars$lfdiinflow)
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + libavg,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "lfp"))
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "lfp"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + lfp,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob", "leconglob"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldeconglob + leconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
require(foreign)
media<-read.csv("~/Dropbox/Data General/Media Freedom/VanBelleCleaned.csv")
econ<-read.dta("~/Dropbox/Data General/Sorens and Ruger 2012/invrep-replicate.dta")
econ$scode<-econ$ccode
require(plm)
econ2<-pdata.frame(econ, index=c("scode", "year"))
econ2$lpolity2<-lag(econ2$polity2)
econ2$ldpolity2<-diff(econ2$lpolity2)
econ2$lrgdpch<-lag(econ2$rgdpch)
econ2$lgrgdpch<-lag(econ2$grgdpch)
econ2$lopenk<-lag(econ2$openk)
econ2$lfdiinward<-lag(econ2$fdiinward)
econ2$lfdiinflow<-lag(econ2$fdiinflow)
econ2$lfpistock<-lag(econ2$fpistock)
econ2$lfpi<-lag(econ2$fpi)
econ2$ldopenk<-diff(econ2$lopenk)
econ<-as.data.frame(econ2)
rm(econ2)
df<-merge(media, econ, by=c("scode", "year"))
df$interp<-ifelse(df$year>=1996, 1, 0)
setwd("~/Dropbox/Data General/KOF")
require(gdata)
kof<-read.xls("globalization_2012_long.xls", sheet=2, na.strings=c("."))
kof$scode<-countrycode(kof$X.1, "iso3c", "cown")
kof$year<-kof$X.2
kof<-kof[2:8321, c(1,4:14)]
kof[,c(2:10,12)]<-as.data.frame(sapply(kof[,c(2:10,12)], function(x) as.numeric(levels(x))[x]))
kof<-subset(kof, select=c("scode", "year", "economic.globalization", "actual.flows", "restrictions", "political.globalization", "information.flows", "overall.globalization.index"))
kof2<-pdata.frame(kof, index=c("scode", "year"))
kof2$leconglob<-lag(kof2$economic.globalization)
kof2$ldeconglob<-diff(kof2$leconglob)
kof2$lrestrict<-lag(kof2$restrictions)
kof2$ldrestrict<-diff(kof2$lrestrict)
kof2$lflows<-lag(kof2$actual.flows)
kof2$ldflows<-diff(kof2$lflows)
kof<-as.data.frame(kof2)
df<-merge(df, kof, by=c("scode", "year"), all=TRUE)
df<-subset(df, !duplicated(subset(df,select=c(scode,year))))
require(arm)
modelvars<-subset(df, select=c("scode", "year", "interp", "fp", "lfp", "fp2", "lfp2", "lopenk",
"ldopenk", "lfdiinward", "lfdiinflow", "lfpi", "lfpistock", "lpolity2", "ldpolity2",
"lrgdpch", "lgrgdpch", "economic.globalization", "leconglob", "ldeconglob", "lrestrict", "ldrestrict",
"lflows", "ldflows", "actual.flows", "restrictions",
"political.globalization", "information.flows", "overall.globalization.index"))
modelvars[,8:29]<-sapply(modelvars[,8:29], rescale)
rm(econ,media,kof,kof2)
attach(df)
countryavgs <-aggregate(df, by=list(scode),
FUN=mean, na.rm=TRUE)
detach(df)
require(countrycode)
countryavgs$country<-countrycode(countryavgs$Group.1, "cown", "iso3c")
countryavgs$dem<-ifelse(countryavgs$polity2>-2.21, "Greater than median democracy", "Less than median democracy")
countryavgs$dem<-as.factor(countryavgs$dem)
setwd("~/Dropbox/Projects/globalization_media_freedom/data")
write.csv(countryavgs, "out_countryavgs.csv")
write.csv(df, "out_df.csv")
write.csv(modelvars, "out_modelvars.csv")
require(foreign)
require(countrycode)
media<-read.csv("~/Dropbox/Data General/Media Freedom/VanBelleCleaned.csv")
econ<-read.dta("~/Dropbox/Data General/Sorens and Ruger 2012/invrep-replicate.dta")
econ$scode<-econ$ccode
require(plm)
econ2<-pdata.frame(econ, index=c("scode", "year"))
econ2$lpolity2<-lag(econ2$polity2)
econ2$ldpolity2<-diff(econ2$lpolity2)
econ2$lrgdpch<-lag(econ2$rgdpch)
econ2$lgrgdpch<-lag(econ2$grgdpch)
econ2$lopenk<-lag(econ2$openk)
econ2$lfdiinward<-lag(econ2$fdiinward)
econ2$lfdiinflow<-lag(econ2$fdiinflow)
econ2$lfpistock<-lag(econ2$fpistock)
econ2$lfpi<-lag(econ2$fpi)
econ2$ldopenk<-diff(econ2$lopenk)
econ<-as.data.frame(econ2)
rm(econ2)
df<-merge(media, econ, by=c("scode", "year"))
df$interp<-ifelse(df$year>=1996, 1, 0)
setwd("~/Dropbox/Data General/KOF")
require(gdata)
kof<-read.xls("globalization_2012_long.xls", sheet=2, na.strings=c("."))
kof$scode<-countrycode(kof$X.1, "iso3c", "cown")
kof$year<-kof$X.2
kof<-kof[2:8321, c(1,4:14)]
kof[,c(2:10,12)]<-as.data.frame(sapply(kof[,c(2:10,12)], function(x) as.numeric(levels(x))[x]))
kof<-subset(kof, select=c("scode", "year", "economic.globalization", "actual.flows", "restrictions", "political.globalization", "information.flows", "overall.globalization.index"))
kof2<-pdata.frame(kof, index=c("scode", "year"))
kof2$leconglob<-lag(kof2$economic.globalization)
kof2$ldeconglob<-diff(kof2$leconglob)
kof2$lrestrict<-lag(kof2$restrictions)
kof2$ldrestrict<-diff(kof2$lrestrict)
kof2$lflows<-lag(kof2$actual.flows)
kof2$ldflows<-diff(kof2$lflows)
kof<-as.data.frame(kof2)
df<-merge(df, kof, by=c("scode", "year"), all=TRUE)
df<-subset(df, !duplicated(subset(df,select=c(scode,year))))
require(arm)
modelvars<-subset(df, select=c("scode", "year", "interp", "fp", "lfp", "fp2", "lfp2", "lopenk",
"ldopenk", "lfdiinward", "lfdiinflow", "lfpi", "lfpistock", "lpolity2", "ldpolity2",
"lrgdpch", "lgrgdpch", "economic.globalization", "leconglob", "ldeconglob", "lrestrict", "ldrestrict",
"lflows", "ldflows", "actual.flows", "restrictions",
"political.globalization", "information.flows", "overall.globalization.index"))
modelvars[,8:29]<-sapply(modelvars[,8:29], rescale)
rm(econ,media,kof,kof2)
attach(df)
countryavgs <-aggregate(df, by=list(scode),
FUN=mean, na.rm=TRUE)
detach(df)
countryavgs$country<-countrycode(countryavgs$Group.1, "cown", "iso3c")
countryavgs$dem<-ifelse(countryavgs$polity2>-2.21, "Greater than median democracy", "Less than median democracy")
countryavgs$dem<-as.factor(countryavgs$dem)
setwd("~/Dropbox/Projects/globalization_media_freedom/data")
write.csv(countryavgs, "out_countryavgs.csv")
write.csv(df, "out_df.csv")
write.csv(modelvars, "out_modelvars.csv")
require(Zelig)
modelvars<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_modelvars.csv")
require(rms)
modelvars$spline<-rcs(as.numeric(modelvars$year),3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "lrestrict", "ldrestrict"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + lrestrict + ldrestrict,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
require(foreign)
require(countrycode)
media<-read.csv("~/Dropbox/Data General/Media Freedom/VanBelleCleaned.csv")
econ<-read.dta("~/Dropbox/Data General/Sorens and Ruger 2012/invrep-replicate.dta")
econ$scode<-econ$ccode
require(plm)
econ2<-pdata.frame(econ, index=c("scode", "year"))
econ2$lpolity2<-lag(econ2$polity2)
econ2$ldpolity2<-diff(econ2$lpolity2)
econ2$lrgdpch<-lag(econ2$rgdpch)
econ2$lgrgdpch<-lag(econ2$grgdpch)
econ2$lopenk<-lag(econ2$openk)
econ2$lfdiinward<-lag(econ2$fdiinward)
econ2$lfdiinflow<-lag(econ2$fdiinflow)
econ2$lfpistock<-lag(econ2$fpistock)
econ2$lfpi<-lag(econ2$fpi)
econ2$ldopenk<-diff(econ2$lopenk)
econ<-as.data.frame(econ2)
rm(econ2)
df<-merge(media, econ, by=c("scode", "year"))
df$interp<-ifelse(df$year>=1996, 1, 0)
setwd("~/Dropbox/Data General/KOF")
require(gdata)
kof<-read.xls("globalization_2012_long.xls", sheet=2, na.strings=c("."))
kof$scode<-countrycode(kof$X.1, "iso3c", "cown")
kof$year<-kof$X.2
kof<-kof[2:8321, c(1,4:14)]
kof[,c(2:10,12)]<-as.data.frame(sapply(kof[,c(2:10,12)], function(x) as.numeric(levels(x))[x]))
kof<-subset(kof, select=c("scode", "year", "economic.globalization", "actual.flows", "restrictions", "political.globalization", "information.flows", "overall.globalization.index"))
kof2<-pdata.frame(kof, index=c("scode", "year"))
kof2$leconglob<-lag(kof2$economic.globalization)
kof2$ldeconglob<-diff(kof2$leconglob)
kof2$lrestrict<-lag(kof2$restrictions)
kof2$ldrestrict<-diff(kof2$lrestrict)
kof2$lflows<-lag(kof2$actual.flows)
kof2$ldflows<-diff(kof2$lflows)
kof<-as.data.frame(kof2)
df<-merge(df, kof, by=c("scode", "year"), all=TRUE)
df<-subset(df, !duplicated(subset(df,select=c(scode,year))))
require(arm)
modelvars<-subset(df, select=c("scode", "year", "interp", "fp", "lfp", "fp2", "lfp2", "lopenk",
"ldopenk", "lfdiinward", "lfdiinflow", "lfpi", "lfpistock", "lpolity2", "ldpolity2",
"lrgdpch", "lgrgdpch", "economic.globalization", "leconglob", "ldeconglob", "lrestrict", "ldrestrict",
"lflows", "ldflows", "actual.flows", "restrictions",
"political.globalization", "information.flows", "overall.globalization.index"))
modelvars[,8:29]<-sapply(modelvars[,8:29], rescale)
rm(econ,media,kof,kof2)
attach(df)
countryavgs <-aggregate(df, by=list(scode),
FUN=mean, na.rm=TRUE)
detach(df)
countryavgs$country<-countrycode(countryavgs$Group.1, "cown", "iso3c")
countryavgs$dem<-ifelse(countryavgs$polity2>-2.21, "Greater than median democracy", "Less than median democracy")
countryavgs$dem<-as.factor(countryavgs$dem)
setwd("~/Dropbox/gh_projects/globalization_media_freedom/data")
write.csv(countryavgs, "out_countryavgs.csv")
write.csv(df, "out_df.csv")
write.csv(modelvars, "out_modelvars.csv")
require(Zelig)
modelvars<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_modelvars.csv")
require(rms)
modelvars$spline<-rcs(as.numeric(modelvars$year),3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "lrestrict", "ldrestrict"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + lrestrict + ldrestrict,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "lrestrict", "ldrestrict"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldrestrict,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "lrestrict", "ldrestrict"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + lrestrict,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "lrestrict", "ldrestrict", "lflows", "ldflows"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldrestrict + lrestrict + lflows + ldflows,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob", "leconglob"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + leconglob + ldeconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob", "leconglob"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "year"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + year,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
model3vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline", "ldeconglob"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi + ldeconglob,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
summary(model3)
