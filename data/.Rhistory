start=1960, end=2014)
data <- WDI(indicator=c("NY.GDP.MKTP.KD.ZG",     # total govt consumption
"NE.TRD.GNFS.ZS",        # trade
"BN.KLT.PRVT.GD.ZS"      # capital
),
start=1960, end=2014)
require(ggplot2)
require(reshape2)
View(data)
molt<-melt(data, id.vars=c("country", "year"))
ggplot2(molt, aes(x=year, y=value, colour=variable)) +
geom_line() +
facet_wrap(~)
ggplot2(molt, aes(x=year, y=value, colour=variable)) +
geom_line() +
facet_wrap(,~)
ggplot2(molt, aes(x=year, y=value, colour=variable)) +
geom_line() +
facet_wrap(~)
ggplot2(molt, aes(x=year, y=value, colour=variable)) +
geom_line()
require(ggplot2)
ggplot(molt, aes(x=year, y=value, colour=variable)) +
geom_line() +
facet_wrap(~)
ggplot(molt, aes(x=year, y=value, colour=variable)) +
geom_line() +
facet_wrap(.~)
View(molt)
View(data)
ggplot(molt, aes(x="year", y="value", colour="variable")) +
geom_line() +
facet_wrap(.~)
ggplot(molt, aes(x=year, y=value)) +
geom_line() +
facet_wrap(.~)
ggplot(molt, aes(x=year, y=value)) +
geom_line() +
facet_wrap(.~)
require(ggplot2)
require(reshape2)
?ggplot
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(.~)
plot<-ggplot(molt, aes(x=year, y=value)
geom_line()
View(molt)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line()
+
facet_wrap(.~)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line()
+
facet_wrap(.~)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(~)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(~.)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(country)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(country ~)
plot<-ggplot(molt, aes(x=year, y=value) +
geom_line() +
facet_wrap(~ country)
plot<-ggplot(molt, aes(x=year, y=value)) +
geom_line() +
facet_wrap(~ country)
plot
wb <- WDI(country="all", indicator=c("SE.XPD.TOTL.GB.ZS", "GC.DOD.TOTL.GD.ZS", "BN.CAB.XOKA.GD.ZS", "UIS.XGOVEXP.FNCUR", "SP.POP.DPND", "AG.LND.TOTL.K2", "NY.GDP.MKTP.CD", "NY.GDP.MKTP.PP.CD", "NY.GDP.MKTP.KD", "NY.GDP.PCAP.CD", "SP.POP.TOTL", "IT.PRT.NEWS.P3", "IT.RAD.SETS", "NE.IMP.GNFS.ZS", "NE.EXP.GNFS.ZS", "NE.TRD.GNFS.ZS", "BX.KLT.DINV.WD.GD.ZS", "BN.KLT.PRVT.GD.ZS", "NE.CON.GOVT.ZS", "SL.IND.EMPL.ZS", "NV.IND.TOTL.ZS", "NY.GDP.MKTP.KD.ZG", "NY.GDP.PCAP.KD", "GDPPCKD"), start=1960, end=2012, extra=TRUE)
data <- WDI(indicator=c("NY.GDP.MKTP.KD.ZG",     # total govt consumption
"NE.TRD.GNFS.ZS",        # trade
"BN.KLT.PRVT.GD.ZS"      # capital
),
start=1960, end=2014)
data$spending<-data$NY.GDP.MKTP.KD.ZG
data$trade<-data$NE.TRD.GNFS.ZS
data$capital<-data$BN.KLT.PRVT.GD.ZS
View(data)
?melt
molt<-melt(data, measure.vars=c("spending", "trade", "capital"), id.vars=c("country", "year"))
View(molt)
require(plm)
pdata<-pdata.frame(data)
data$spending<-diff(data$spending)
pdata$spending<-diff(pdata$spending)
?diff
hist(diff(pdata$spending))
pdata$spending<-diff(pdata$spending, d=3)
pdata<-pdata.frame(data)
pdata$spending<-diff(pdata$spending, d=3)
pdata$trade<-diff(pdata$trade, d=3)
pdata$capital<-diff(pdata$capital, d=3)
pdata<-as.data.frame(pdata)
pdata<-pdata.frame(data)
pdata$spending<-diff(pdata$spending, d=3)
pdata$trade<-diff(pdata$trade, d=3)
pdata$capital<-diff(pdata$capital, d=3)
pdata<-as.data.frame(pdata)
pdata<-pdata.frame(data)
pdata$d.spending<-diff(pdata$spending, d=3)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
pdata<-as.data.frame(pdata)
summary(pdata$d.spending)
sd(pdata$d.spending)
sd(pdata$d.spending, na.rm=TRUE)
pdata<-subset(pdata)
sd(pdata$d.spending, na.rm=TRUE)
summary(pdata$d.spending)
pdata<-pdata.frame(data)
pdata$d.spending<-diff(pdata$spending, d=3)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
pdata<-subset(pdata)
summary(pdata$d.spending)
pdata<-subset(pdata, year>=1960 & year<=2013)
summary(pdata$d.spending)
molt<-melt(pdata, measure.vars=c("spending", "trade", "capital"), id.vars=c("country", "year"))
molt<-melt(pdata, measure.vars=c("spending", "trade", "capital"), id.vars=c("country", "year"))
View(molt)
plot<-ggplot(molt, aes(x=year, y=value)) +
geom_line() +
facet_wrap(~ country)
plot<-ggplot(molt, aes(x=year, y=value)) +
geom_line() +
facet_wrap(~ country)
plot
?cast
df<-dcast(molt)
pdata<-plm.data(data)
pdata$d.spending<-diff(pdata$spending, d=3)
?plm.data
?diff
?pdiff
?p.diff
??plm
View(data)
pdata<-plm.data(data)
pdata$d.spending<-diff(pdata$spending, d=3)
??plm
pdata<-plm.data(data, indexes=c("country", "year"))
pdata$d.spending<-diff(pdata$spending, d=3)
pdata<-plm.data(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending, d=3)
pdata<-plm.data(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
pdata<-subset(pdata, year>=1960 & year<=2013)
summary(pdata$d.spending)
df<-subset(pdata, year>=1960 & year<=2013)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-subset(pdata)
summary(df$d.spending)
sd(df$d.spending)
sd(df$d.spending, na.rm=TRUE)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-as.data.frame(pdata)
sd(df$d.spending, na.rm=TRUE)
summary(df$d.spending)
pdata<-plm.data(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata<-plm.data(data, c("country", "year"))
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-as.data.frame(pdata)
summary(df$d.spending)
df<-as.data.frame(as.matrix(pdata))
summary(df$d.spending)
df<-subset(pdata, year>=1960 & year<=2013)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-subset(pdata, year>=1960 & year<=2013)
View(data)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-as.data.frame(pdata)
summary(df$d.spending)
df<-subset(pdata, year>=1960 & year<=2013)
summary(df$d.spending)
df<-subset(df, year>=1960 & year<=2013)
df<-subset(df)
summary(df$d.spending)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending, d=3)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-subset(pdata, select=c("country", "year", "trade", "spending", "capital"))
summary(df$d.spending)
View(df)
View(df)
df<-subset(pdata, select=c("country", "year", "d.trade", "d.spending", "d.capital"))
View(df)
neo_revs<-subset(df abs(d.trade)>=sd(d.trade))
neo_revs<-subset(df, abs(d.trade)>=sd(d.trade))
sd(df$d.trade)
sd(df$d.trade, na.rm=TRUE)
abs(df$d.trade)
neo_revs<-subset(df, abs(d.trade)>=sd(d.trade, na.rm=TRUE))
View(neo_revs)
sd(d.spending, na.rm=TRUE)
sd(df$d.spending, na.rm=TRUE)
neo_revs<-subset(df, d.trade>=sd(d.trade, na.rm=TRUE) &
d.spending <= sd(df$d.spending, na.rm=TRUE) |
d.capital >= sd(df$d.capital, na.rm=TRUE)
)
View(neo_revs)
neo_revs<-subset(df, d.trade>=sd(d.trade, na.rm=TRUE) &
d.spending <= sd(df$d.spending, na.rm=TRUE) &
d.capital >= sd(df$d.capital, na.rm=TRUE)
)
View(neo_revs)
neo_revs<-subset(df, d.trade>=sd(d.trade, na.rm=TRUE) &
d.capital >= sd(df$d.capital, na.rm=TRUE) |
d.spending <= sd(df$d.spending, na.rm=TRUE)
)
neo_revs<-subset(df, d.spending <= sd(df$d.spending, na.rm=TRUE) &
d.trade>=sd(d.trade, na.rm=TRUE) |
d.capital >= sd(df$d.capital, na.rm=TRUE)
)
View(neo_revs)
neo_revs<-subset(df, d.spending <= sd(df$d.spending, na.rm=TRUE) &
d.trade>=sd(d.trade, na.rm=TRUE)
)
View(neo_revs)
sd(d.trade, na.rm=TRUE)
sd(df$d.trade, na.rm=TRUE)
View(neo_revs)
sd(df$d.spending, na.rm=TRUE)
0 - sd(df$d.spending, na.rm=TRUE)
neo_revs<-subset(df, d.spending <= 0 - sd(df$d.spending, na.rm=TRUE) &
d.trade>=sd(d.trade, na.rm=TRUE)
)
View(neo_revs)
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending, d=1)
pdata$d.trade<-diff(pdata$trade, d=1)
pdata$d.capital<-diff(pdata$capital, d=1)
df<-subset(pdata, select=c("country", "year", "d.trade", "d.spending", "d.capital"))
neo_revs<-subset(df, d.spending <= 0 - sd(df$d.spending, na.rm=TRUE) &
d.trade>=sd(d.trade, na.rm=TRUE)
)
View(neo_revs)
?diff
pdata<-pdata.frame(data, c("country", "year"))
pdata$d.spending<-diff(pdata$spending, d=3)
pdata$d.trade<-diff(pdata$trade, d=3)
pdata$d.capital<-diff(pdata$capital, d=3)
df<-subset(pdata, select=c("country", "year", "d.trade", "d.spending", "d.capital"))
neo_revs<-subset(df, d.spending <= 0 - sd(df$d.spending, na.rm=TRUE) &
d.trade>=sd(d.trade, na.rm=TRUE)
)
View(neo_revs)
View(neo_revs)
require(foreign)
df<-read.dta("anes_timeseries_2012.dta")
setwd("~/Dropbox/side_projects/misarchism")
df<-read.dta("anes_timeseries_2012.dta")
df<-read.dta("anes_timeseries_2012_stata12.dta")
summary(df$gun_control)
df[df$gun_control=="-9. refused"]<-NA
df[df$gun_control=="-9. refused",]<-NA
summary(df$gun_control)
df[df$gun_control=="-8. don''t know",]<-NA
summary(df$gun_control)
df[df$gun_control=="-8. don''t know",]<-NA
df[,df$gun_control=="-8. don''t know"]<-NA
require(memisc)
summary(as.numeric(df$gun_control))
df$gun_control<-recode(df$gun_control,
NA<-"-9. refused",
NA<-"8. don''t know"
otherwise="copy")
require(memisc)
df$gun_control<-recode(df$gun_control,
NA<-"-9. refused",
NA<-"8. don''t know",
otherwise="copy")
df<-read.dta("anes_timeseries_2012_stata12.dta")
inspre_self  #7pt scale govt-private medical insur scale: self-plmt
summary(df$gun_control)
df[df$gun_control=="-9. refused",]<-NA
df$gun_control<-recode(df$gun_control,
NA<-"-9. refused",
NA<-"8. don''t know",
otherwise="copy")
df<-read.dta("anes_timeseries_2012_stata12.dta")
inspre_self  #7pt scale govt-private medical insur scale: self-plmt
summary(df$gun_control)
#df[df$gun_control=="-9. refused",]<-NA
df$gun_control<-recode(df$gun_control,
NA<-"-9. refused",
NA<-"8. don''t know",
otherwise="copy")
?recode
summary(df$gun_control)
df[df$gun_control=="-8. don''t know",]<-NA
summary(df$gun_control)
df$gun_control<-recode(df$gun_control,
3<-"1. more difficult",
2<-"3. keep these rules about the same",
1<-"2. easier",
otherwise="copy")
summary(df$gun_control)
df[df$gun_control=="-9. refused",]<-NA
require(memisc)
df<-read.dta("anes_timeseries_2012_stata12.dta")
inspre_self  #7pt scale govt-private medical insur scale: self-plmt
summary(df$gun_control)
df[df$gun_control=="-9. refused",]<-NA
df[df$gun_control=="-8. don''t know",]<-NA
df$gun_control<-recode(df$gun_control,
3<-"1. more difficult",
2<-"3. keep these rules about the same",
1<-"2. easier",
otherwise="copy")
summary(df$gun_control)
df<-read.dta("anes_timeseries_2012_stata12.dta")
inspre_self  #7pt scale govt-private medical insur scale: self-plmt
summary(df$gun_control)
df[df$gun_control=="-9. refused" | df$gun_control=="-8. don''t know",]<-NA
df$gun_control<-recode(df$gun_control,
3<-"1. more difficult",
2<-"3. keep these rules about the same",
1<-"2. easier",
otherwise="copy")
summary(df$gun_control)
summary(as.numeric(df$gun_control))
df$gun_control<-as.numeric(levels(df$gun_control))[df$gun_control]
summary(df$gun_control)
setwd("~/Dropbox/gh_projects/globalization_media_freedom")
require(foreign)
require(countrycode)
media<-read.csv("~/Dropbox/Data General/Media Freedom/VanBelleCleaned.csv")
econ<-read.dta("~/Dropbox/Data General/Sorens and Ruger 2012/invrep-replicate.dta")
econ$scode<-econ$ccode
require(plm)
econ2<-pdata.frame(econ, index=c("scode", "year"))
econ2$lpolity2<-lag(econ2$polity2)
econ2$ldpolity2<-diff(econ2$lpolity2)
econ2$lrgdpch<-lag(econ2$rgdpch)
econ2$lgrgdpch<-lag(econ2$grgdpch)
econ2$lopenk<-lag(econ2$openk)
econ2$lfdiinward<-lag(econ2$fdiinward)
econ2$lfdiinflow<-lag(econ2$fdiinflow)
econ2$lfpistock<-lag(econ2$fpistock)
econ2$lfpi<-lag(econ2$fpi)
econ2$ldopenk<-diff(econ2$lopenk)
econ<-as.data.frame(econ2)
rm(econ2)
df<-merge(media, econ, by=c("scode", "year"))
setwd("~/Dropbox/Data General/KOF")
require(gdata)
kof<-read.xls("globalization_2012_long.xls", sheet=2, na.strings=c("."))
kof$scode<-countrycode(kof$X.1, "iso3c", "cown")
kof$year<-kof$X.2
kof<-kof[2:8321, c(1,4:14)]
kof[,c(2:10,12)]<-as.data.frame(sapply(kof[,c(2:10,12)], function(x) as.numeric(levels(x))[x]))
kof<-subset(kof, select=c("scode", "year", "economic.globalization", "actual.flows", "restrictions", "political.globalization", "information.flows", "overall.globalization.index"))
kof2<-pdata.frame(kof, index=c("scode", "year"))
kof2$leconglob<-lag(kof2$economic.globalization)
kof2$ldeconglob<-diff(kof2$leconglob)
kof2$lrestrict<-lag(kof2$restrictions)
kof2$ldrestrict<-diff(kof2$lrestrict)
kof2$lflows<-lag(kof2$actual.flows)
kof2$ldflows<-diff(kof2$lflows)
kof2$lpolglob<-lag(kof2$political.globalization)
kof2$ldpolglob<-diff(kof2$lpolglob)
kof2$linfoglob<-lag(kof2$information.flows)
kof2$ldinfoglob<-diff(kof2$linfoglob)
kof2$loverallglob<-lag(kof2$overall.globalization.index)
kof2$ldoverallglob<-diff(kof2$loverallglob)
kof<-as.data.frame(kof2)
df<-merge(df, kof, by=c("scode", "year"), all=TRUE)
df<-subset(df, !duplicated(subset(df,select=c(scode,year))))
df$year1<-df$year
df$year2<-as.numeric(df$year)^2
df$year3<-as.numeric(df$year)^3
df$country<-countrycode(df$scode, "cown", "country.name")
require(gdata)
fh<-read.xls("~/Dropbox/gh_projects/globalization_media_freedom/data/FreedomHouse_1980_2013.xls", sheet=2)
fh<-fh[3:212,1:62]
fh<-fh[,c(1,23:62)]
fh<-fh[, c(1, seq(2, ncol(fh), by = 2))]
names(fh)[1]<-paste("Country")
names(fh)[2:21]<-paste(1993:2012)
fh<-fh[3:210,]
require(reshape)
fhlong<-reshape(fh, direction="long", varying=list(names(fh)[2:21]), v.names="FHscore",
idvar=c("Country"), timevar="Year", times=1993:2012)
fhlong$FHscore[fhlong$FHscore=="N/A"]<-NA
fhlong$FHscore<-as.numeric(levels(fhlong$FHscore))[fhlong$FHscore]
fhlong$FHscore<-100-fhlong$FHscore
fh<-fhlong
rm(fhlong)
require(countrycode)
fh$scode<-countrycode(fh$Country, "country.name", "cown")
fh$scode[fh$Country=="Germany, East"]<-NA
fh$scode[fh$Country=="Germany, West"]<-NA
fh$scode[fh$Country=="Yemen, North"]<-NA
fh$scode[fh$Country=="Yemen, South"]<-NA
fh$scode[fh$Country=="Cyprus (Turkish)"]<-NA
fh$scode[fh$Country=="USSR"]<-NA
fh$year<-fh$Year
fh<-fh[with(fh, order(scode, year)), ]
df<-merge(df, fh, by=c("scode", "year"), all.x=TRUE)
require(arm)
modelvars<-subset(df, select=c("scode", "fp", "lfp", "fp2", "lfp2", "year", "year1", "year2", "year3", "FHscore",  "lopenk",
"ldopenk", "lfdiinward", "lfdiinflow", "lfpi", "lfpistock", "lpolity2", "ldpolity2",
"lrgdpch", "lgrgdpch", "economic.globalization", "leconglob", "ldeconglob", "lrestrict", "ldrestrict",
"lpolglob", "ldpolglob", "linfoglob", "ldinfoglob", "leconglob", "ldeconglob",
"lflows", "ldflows", "loverallglob", "ldoverallglob", "actual.flows", "restrictions",
"political.globalization", "information.flows", "overall.globalization.index"))
modelvars[,7:38]<-sapply(modelvars[,7:38], rescale)
rm(econ,media,kof,kof2)
attach(df)
countryavgs <-aggregate(df, by=list(scode),
FUN=mean, na.rm=TRUE)
detach(df)
countryavgs$country<-countrycode(countryavgs$Group.1, "cown", "iso3c")
countryavgs$dem<-ifelse(countryavgs$polity2>-2.21, "Greater than median democracy", "Less than median democracy")
countryavgs$dem<-as.factor(countryavgs$dem)
setwd("~/Dropbox/gh_projects/globalization_media_freedom/data")
write.csv(countryavgs, "out_countryavgs.csv")
write.csv(df, "out_df.csv")
write.csv(modelvars, "out_modelvars.csv")
require(Zelig)
require(splines)
modelvars<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_modelvars.csv")
df<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_df.csv")
df$fp<-as.factor(df$fp)
modelvars<-subset(modelvars, select=c("fp", "scode", "year", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfdiinflow", "lfpistock", "lfpi", "leconglob", "ldeconglob"))
modelvars<-modelvars[complete.cases(modelvars),]
spline<-ns(1972:2003, df=3)
spline<-as.data.frame(spline)
names(spline)<-c("spline1", "spline2", "spline3")
spline$year<-1972:2003
modelvars<-merge(modelvars, spline, by="year")
modelvars<-modelvars[with(modelvars, order(scode, year)), ]
df<-subset(df, select=c("fp", "scode", "year", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfdiinflow", "lfpistock", "lfpi", "leconglob", "ldeconglob"))
df<-df[complete.cases(df),]
df<-merge(df, spline, by="year")
df<-df[with(df, order(scode, year)), ]
### Model 1, Baseline ###
model1<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + spline1 + spline2 + spline3,
model="logit",
robust=TRUE,
data=modelvars,
cite=F)
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + spline1 + spline2 + spline3 + lopenk + ldopenk + lfdiinward + lfdiinflow + lfpistock  + lfpi + leconglob + ldeconglob,
model="logit",
robust=TRUE,
data=modelvars,
cite=F)
summary(model2)
require(Zelig)
require(splines)
modelvars<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_modelvars.csv")
df<-read.csv("~/Dropbox/gh_projects/globalization_media_freedom/data/out_df.csv")
df$fp<-as.factor(df$fp)
modelvars<-subset(modelvars, select=c("fp", "scode", "year", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfdiinflow", "lfpistock", "lfpi"))
modelvars<-modelvars[complete.cases(modelvars),]
spline<-ns(1972:2003, df=3)
spline<-as.data.frame(spline)
names(spline)<-c("spline1", "spline2", "spline3")
spline$year<-1972:2003
modelvars<-merge(modelvars, spline, by="year")
modelvars<-modelvars[with(modelvars, order(scode, year)), ]
df<-subset(df, select=c("fp", "scode", "year", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfdiinflow", "lfpistock", "lfpi"))
df<-df[complete.cases(df),]
df<-merge(df, spline, by="year")
df<-df[with(df, order(scode, year)), ]
### Model 1, Baseline ###
model1<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + spline1 + spline2 + spline3,
model="logit",
robust=TRUE,
data=modelvars,
cite=F)
model1classif<-table(model1$result$fitted.values>.5, model1$result$y)
model1correct<-(model1classif[1,1] + model1classif[2,2])
(model1correct/4052)*100
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + spline1 + spline2 + spline3 + lopenk + ldopenk + lfdiinward + lfdiinflow + lfpistock  + lfpi,
model="logit",
robust=TRUE,
data=modelvars,
cite=F)
model2classif<-(table(model2$result$fitted.values>.5, model2$result$y))
model2correct<-(model2classif[1,1] + model2classif[2,2])
(model2correct/4052)*100
summary(model2)
(model2correct/4052)*100
