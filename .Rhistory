modelvars<-read.csv("~/Dropbox/Projects/glob_media_freedom/data/out_modelvars.csv")
require(rms)
modelvars$spline<-rcs(as.numeric(modelvars$year),3)
### Model 1, Baseline ###
model1vars<-subset(modelvars, select=c("fp", "lpolity2",  "ldpolity2", "lrgdpch", "lgrgdpch", "interp", "spline"))
model1vars<-model1vars[complete.cases(model1vars),]
model1<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline,
model="logit",
robust=TRUE,
data=model1vars,
cite=F)
model1classif<-prop.table(table(model1$result$fitted.values>.5, model1$result$y))
model1correct<-(model1classif[1,1] + model1classif[2,2])
### Model 1, IPE levels and changes ###
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
model2classif<-prop.table(table(model2$result$fitted.values>.5, model2$result$y))
model2correct<-(model2classif[1,1] + model2classif[2,2])
### Model3, considering  multicollinearity of neoliberalism ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinward", "lfpistock", "lfpi", "llibavg", "lpolity2", "ldpolity2", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + llibavg,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
model3classif<-prop.table(table(model3$result$fitted.values>.5, model3$result$y))
model3correct<-(model3classif[1,1] + model3classif[2,2])
### Model4, considering neoliberalism + trade change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model4vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model4vars<-model4vars[complete.cases(model4vars),]
model4<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + llibavg,
model="logit",
robust=TRUE,
data=model4vars,
cite=F)
model4classif<-prop.table(table(model4$result$fitted.values>.5, model4$result$y))
model4correct<-(model4classif[1,1] + model4classif[2,2])
### Model5, considering neoliberalism + fdi change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model5vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinflow", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model5vars<-model5vars[complete.cases(model5vars),]
model5<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfdiinflow + llibavg,
model="logit",
robust=TRUE,
data=model5vars,
cite=F)
model5classif<-prop.table(table(model5$result$fitted.values>.5, model5$result$y))
model5correct<-(model5classif[1,1] + model5classif[2,2])
### Model6, considering neoliberalism + fpi change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model6vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfpi", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model6vars<-model6vars[complete.cases(model6vars),]
model6<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfpi + llibavg,
model="logit",
robust=TRUE,
data=model6vars,
cite=F)
model6classif<-prop.table(table(model6$result$fitted.values>.5, model6$result$y))
model6correct<-(model6classif[1,1] + model6classif[2,2])
require(Zelig)
### Model 1, Baseline ###
model1vars<-subset(modelvars, select=c("fp", "lpolity2",  "ldpolity2", "lrgdpch", "lgrgdpch", "interp", "spline"))
model1vars<-model1vars[complete.cases(model1vars),]
model1<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline,
model="logit",
robust=TRUE,
data=model1vars,
cite=F)
model1classif<-prop.table(table(model1$result$fitted.values>.5, model1$result$y))
model1correct<-(model1classif[1,1] + model1classif[2,2])
### Model 1, IPE levels and changes ###
model2vars<-subset(modelvars, select=c("fp", "interp", "lpolity2", "ldpolity2", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinflow", "lfdiinward", "lfpi", "lfpistock", "spline"))
model2vars<-model2vars[complete.cases(model2vars),]
model2<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + lfdiinflow + lfpi,
model="logit",
robust=TRUE,
data=model2vars,
cite=F)
model2classif<-prop.table(table(model2$result$fitted.values>.5, model2$result$y))
model2correct<-(model2classif[1,1] + model2classif[2,2])
### Model3, considering  multicollinearity of neoliberalism ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model3vars<-subset(modelvars, select=c("fp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinward", "lfpistock", "lfpi", "llibavg", "lpolity2", "ldpolity2", "interp", "spline"))
model3vars<-model3vars[complete.cases(model3vars),]
model3<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + llibavg,
model="logit",
robust=TRUE,
data=model3vars,
cite=F)
model3classif<-prop.table(table(model3$result$fitted.values>.5, model3$result$y))
model3correct<-(model3classif[1,1] + model3classif[2,2])
### Model4, considering neoliberalism + trade change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model4vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "ldopenk", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model4vars<-model4vars[complete.cases(model4vars),]
model4<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + ldopenk + llibavg,
model="logit",
robust=TRUE,
data=model4vars,
cite=F)
model4classif<-prop.table(table(model4$result$fitted.values>.5, model4$result$y))
model4correct<-(model4classif[1,1] + model4classif[2,2])
### Model5, considering neoliberalism + fdi change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model5vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfdiinflow", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model5vars<-model5vars[complete.cases(model5vars),]
model5<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfdiinflow + llibavg,
model="logit",
robust=TRUE,
data=model5vars,
cite=F)
model5classif<-prop.table(table(model5$result$fitted.values>.5, model5$result$y))
model5correct<-(model5classif[1,1] + model5classif[2,2])
### Model6, considering neoliberalism + fpi change ###
modelvars$llibavg <- (modelvars$ldopenk + modelvars$lfdiinflow + modelvars$lfpi)/3
model6vars<-subset(modelvars, select=c("fp", "interp", "lrgdpch", "lgrgdpch", "lopenk", "lfpi", "lfdiinward", "lfpistock", "llibavg", "lpolity2", "ldpolity2", "spline"))
model6vars<-model6vars[complete.cases(model6vars),]
model6<-zelig(fp ~ lpolity2 + ldpolity2 + lrgdpch + lgrgdpch + interp + spline + lopenk + lfdiinward + lfpistock + lfpi + llibavg,
model="logit",
robust=TRUE,
data=model6vars,
cite=F)
model6classif<-prop.table(table(model6$result$fitted.values>.5, model6$result$y))
model6correct<-(model6classif[1,1] + model6classif[2,2])
@
mainmodels<-stargazer(model1, model2, model3, model4, model5, model6,
digits = 2,
style = "apsr",
font.size = "small",
covariate.labels=c("Democracy level", "Democracy change", "GDP per capita", "GDP per capita change",
"Interpolated", "Spline1", "Spline2", "Trade level", "FDI level", "FPI level",
"Trade change", "FDI change", "FPI change", "Liberalization average")
)
require(stargazer)
mainmodels<-stargazer(model1, model2, model3, model4, model5, model6,
digits = 2,
style = "apsr",
font.size = "small",
covariate.labels=c("Democracy level", "Democracy change", "GDP per capita", "GDP per capita change",
"Interpolated", "Spline1", "Spline2", "Trade level", "FDI level", "FPI level",
"Trade change", "FDI change", "FPI change", "Liberalization average")
)
names(mainmodels)
summary(mainmodels)
fix(mainmodels)
mainmodels<-c("model1", "model2", "model3", "model4", "model5", "model6")
mainmodels
?zelig
??Zelig
cor(df$lfpistock, df$lopenk, df$lfdiinward)
cor(df$lfpistock, df$lopenk, df$lfdiinward, use="complete.obs")
cor(modelvars$lfpistock, modelvars$lopenk, modelvars$lfdiinward, use="complete.obs")
cor(modelvars$lfpistock, modelvars$lopenk, use="complete.obs")
as.matrix(cor(modelvars))
as.matrix(cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock")))
as.matrix(cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock"))))
as.matrix(cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock"))
cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock"))
cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock")))
cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock")))
cor(subset(modelvars, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs")
cor(subset(modelvars, select=c("ldopenk", "lfdiinflow", "lfpi")), use="complete.obs")
df<-read.csv("~/Dropbox/Projects/glob_media_freedom/data/out_df.csv")
cor(subset(df, select=c("ldopenk", "lfdiinflow", "lfpi")), use="complete.obs")
cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs")
max(cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs"))
?max
max(cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs")[1])
?which.max
?lower.tri
max(cor(lower.tri(subset(df, select=c("lopenk", "lfdiinward", "lfpistock"))), use="complete.obs"))
max(cor(lower.tri(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), diag=FALSE), use="complete.obs"))
max(cor(lower.tri(subset(df, select=c("lopenk", "lfdiinward", "lfpistock"))), diag=FALSE), use="complete.obs"))
max(lower.tri(cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")) use="complete.obs")), diag=FALSE)
max(lower.tri(cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs")), diag=FALSE)
max(lower.tri(cor(subset(df, select=c("lopenk", "lfdiinward", "lfpistock")), use="complete.obs")), diag=TRUE)
setwd("~/Dropbox/Projects/globalization_media_freedom")
require(ggplot2)
df<-read.csv("~/Dropbox/Projects/globalization_media_freedom/data/out_df.csv")
countryavgs<-read.csv("~/Dropbox/Projects/globalization_media_freedom/data/out_countryavgs.csv")
introplot<-ggplot(countryavgs, aes(x=fp, y=economic.globalization)) +
geom_smooth(method=lm, se=FALSE) +
geom_point() +
geom_text(aes(label=country),hjust=.5, vjust=-.2, size=4) +
xlab("Average Media Freedom") +
ylab("Average Trade (% of GDP)") +
theme_bw() +
ggtitle("Average Trade Openness & Media Freedom, 1948-2003")
introplot
introplot<-ggplot(countryavgs, aes(x=fp, y=economic.globalization)) +
geom_smooth(method=lm, se=FALSE) +
geom_point() +
geom_text(aes(label=country),hjust=.5, vjust=-.2, size=4) +
xlab("Mean Media Freedom") +
ylab("Mean Score on KOF Index of Globalization)") +
theme_bw() +
ggtitle("General Economic Globalization & Media Freedom, 1970-2003")
introplot
introplot<-ggplot(countryavgs, aes(x=fp, y=openk)) +
geom_smooth(method=lm, se=FALSE) +
geom_point() +
geom_text(aes(label=country),hjust=.5, vjust=-.2, size=4) +
xlab("Mean Media Freedom") +
ylab("Mean Trade (% of GDP)") +
theme_bw() +
ggtitle("Mean Trade Openness & Media Freedom, 1948-2003")
introplot
?par
kofintroplot<-ggplot(countryavgs, aes(x=fp, y=economic.globalization)) +
geom_smooth(method=lm, se=FALSE) +
geom_point() +
geom_text(aes(label=country),hjust=.5, vjust=-.2, size=4) +
xlab("Mean Media Freedom") +
ylab("Mean Score on KOF Index of Globalization)") +
theme_bw() +
ggtitle("General Economic Globalization & Media Freedom, 1970-2003")
tradeintroplot<-ggplot(countryavgs, aes(x=fp, y=openk)) +
geom_smooth(method=lm, se=FALSE) +
geom_point() +
geom_text(aes(label=country),hjust=.5, vjust=-.2, size=4) +
xlab("Mean Media Freedom") +
ylab("Mean Trade (% of GDP)") +
theme_bw() +
ggtitle("Mean Trade Openness & Media Freedom, 1948-2003")
par(mfrow=c(2,1))
kofintroplot
tradeintropolot
tradeintroplot
par(mfrow=c(2,1))
kofintroplot
tradeintroplot
install.packages("gridExtra")
grid.arrange(kofintroplot, tradeintroplot)
require(gridExtra)
grid.arrange(kofintroplot, tradeintroplot)
opts_knit$set(upload.fun = function(file){
flickr <- function(file,
tags = "", description = "",
public = TRUE) {
out <- system(paste("flickr_upload --tag=\"",
tags, " \" --description=\"",
description, "\"",
" --public ", as.integer(public),
file), intern = TRUE)
gsub(".*ids=(\\d+)",
"\\1", out[3])
}
})
require(knitr)
opts_knit$set(upload.fun = function(file){
flickr <- function(file,
tags = "", description = "",
public = TRUE) {
out <- system(paste("flickr_upload --tag=\"",
tags, " \" --description=\"",
description, "\"",
" --public ", as.integer(public),
file), intern = TRUE)
gsub(".*ids=(\\d+)",
"\\1", out[3])
}
})
?imgur_upload
setwd("~/Documents")
install.packages(Rflickr, repos = "http://www.omegahat.org/R")
install.packages("Rflickr", repos = "http://www.omegahat.org/R")
install.packages("Rflickr")
install.packages("Rflickr", repos="http://www.omegahat.org/R")
install.packages(Rflickr, repos = "http://www.omegahat.org/R", type = "source")
install.packages("Rflickr", repos = "http://www.omegahat.org/R", type = "source")
install.packages("XML")
install.packages("Rflickr", repos = "http://www.omegahat.org/R", type = "source")
require(Rflickr)
?Rflickr
??Rflickr
authenticate(api_key="1e0646cb9bf2b7366945c094ae3ec5bb", secret="b719faa79a0eb979")
flickrSession(secret="b719faa79a0eb979", auth_token="72157639811459193-e6bd9d0dd9ce3559", api_key="1e0646cb9bf2b7366945c094ae3ec5bb")
opts_knit$set(upload.fun = imgur_upload)
?imgur_upload
opts_knit$set(upload.fun = function(file){
require(Rflickr)
flickr.upload(secret="b719faa79a0eb979", token="72157639811459193-e6bd9d0dd9ce3559, api_key="1e0646cb9bf2b7366945c094ae3ec5bb", file)})
opts_knit$set(upload.fun = function(file){
require(Rflickr)
flickr.upload(secret="b719faa79a0eb979", token="72157639811459193-e6bd9d0dd9ce3559", api_key="1e0646cb9bf2b7366945c094ae3ec5bb", file)})
?imgur_upload
imgur_upload
opts_knit$set(upload.fun = function(file) imgur_upload(file, key = "f29f6552e572b77"))
opts_knit$set(upload.fun = function(file) imgur_upload(file, key = "f29f6552e572b77"))
opts_knit$set(upload.fun = function(file) imgur_upload(file, key = "3e167d229d0fa6b"))
setwd("~/Dropbox/Projects/globalization_media_freedom")
